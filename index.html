<!DOCTYPE html>
<html>
<head>
  <title>Dynamické prepojenie</title>
  <style>
    /* Existujúci CSS kód */
    /* ... */
  </style>
  <script>
    // Function to copy text to clipboard with user permission
    async function copyToClipboard(text) {
      try {
        await navigator.clipboard.writeText(text);
        alert("Kód skopírovaný do schránky.");
      } catch (err) {
        console.error("Nepodarilo sa mi CTRLC:", err);
        // Handle permission denial or other errors gracefully (optional)
        if (err.name === 'PermissionsPolicyViolation') {
          alert("Povoľ mi kopírovať, ak chceš mať kód po ruke.");
        } else {
          alert("CTRLC nevyšlo. Skús to znovu.");
        }
      }
    }

    // Function to handle form submission or Enter key press
    function handleFormSubmit(event) {
      // Check if event is triggered by form submission (button click)
      if (event) {
        event.preventDefault(); // Prevent default form submission behavior
      }

      var id = document.getElementById("idInput").value; // Get ID from input box
      if (id) { // Check if ID is entered
        var baseLink = "https://putm34cu";
        var address = "PUTM34CU" + id + "01";
        copyToClipboard(address);
        window.open(baseLink + id + "01:4343/", "_blank"); // Open in new tab
      } else {
        alert("Vlož číslo lisu."); // Alert if no ID is entered
      }
    }

    // Function to handle Enter key press in the input field
    function handleEnterPress(event) {
      if (event.keyCode === 13) { // Check if Enter key is pressed
        handleFormSubmit(); // Call the form submission function
      }
    }

    // Function to copy the JavaScript code
    function copyJavaScriptCode() {
      const jsCode = `
const usernameInput = document.getElementById('username_input');
usernameInput.value = "example_username";
// Vyplní password
const passwordInput = document.getElementById('password_input');
passwordInput.value = "example_password";
// Vyplní domain
const domainInput = document.getElementById('domain_input');
domainInput.value = "example_domain";
`;
      copyToClipboard(jsCode);
    }
  </script>
</head>
<body>
  <h1>DynLink</h1>
  <p>Vlož číslo lisu.</p>
  <a href="https://putm30ctts1101:4343/">Kliknite pre otvorenie HL. DOPRAVNÍK</a>
  <form onsubmit="handleFormSubmit(event)">
    <label for="idInput">ID:</label>
    <input type="text" id="idInput" name="id" required onkeypress="handleEnterPress(event)">
    <button type="submit">Dúfam, že mi to potvrdí.</button>
  </form>
  <button onclick="copyJavaScriptCode()">Kopírovať JavaScript kód</button>
</body>
</html>
